<!DOCTYPE html>
<html>
 <head> 
  <title>Final Project - Davide Violante - 435871</title> 
  <style>
      body {
        background-color: #ffffff;
        margin: 0;
        overflow: hidden;
        font-family: Verdana;
      }

    #stats { position:absolute; left:0px; top:0px; }
  </style> 
  </head>
  <body>
    <!-- Loading the libraries -->
    <script src="libs/jquery.min.js"></script> 
    <script src="libs/three.min.js"></script>
    <script src="libs/tween.min.js"></script>
    <script src="libs/Stats.min.js"></script>
    <script src="libs/OBJLoader.js"></script>
    <script src="libs/OBJMTLLoader.js"></script> 
    <script src="libs/MTLLoader.js"></script> 
    <!--<script src="libs/TrackballControls.js"></script>-->
    <script src="libs/OrbitControls.js"></script>
    <script src="libs/SubdivisionModifier.js"></script>
    <!--<script src="libs/PointerLockControls.js"></script>-->

    <!-- Loading my files -->
    <script src="scripts/init.js"></script>
    <script src="scripts/objLoader.js"></script>
    <script src="scripts/floors_and_walls.js"></script>
    <script src="scripts/bathroom_kitchen_tiles.js"></script>
    <script src="scripts/doors.js"></script>
    <script src="scripts/windows.js"></script>
    <script src="scripts/elevator.js"></script>
    <script src="scripts/lights.js"></script>
    <script src="scripts/dingdong.js"></script>
    <script src="scripts/roof.js"></script>

    <script>
      // once everything is loaded, we run our Three.js stuff.
      $(function () {

        // function mkCube(sizeX, sizeY, sizeZ, color) {
        //     var cubeGeometry = new THREE.BoxGeometry(sizeX,sizeY,sizeZ);
        //     var cubeMaterial = new THREE.MeshLambertMaterial({color: color})
        //     var cube = new THREE.Mesh(cubeGeometry,cubeMaterial);
        //     return cube;
        // }
        
        // function mkSmoothBox(sizeX, sizeY, sizeZ, subdiv, texName) {
        //     var modifier = new THREE.SubdivisionModifier(subdiv);
        //     var cubeGeometry = new THREE.BoxGeometry(sizeX, sizeY, sizeZ, 3, 3, 3);
        //     modifier.modify(cubeGeometry);
        //     var tex = THREE.ImageUtils.loadTexture("textures/"+texName+".png");
        //     var cubeMaterial = new THREE.MeshLambertMaterial({color: 0xFF0000, map: tex})
        //     var cube = new THREE.Mesh(cubeGeometry,cubeMaterial);
        //     cubeGeometry.mergeVertices();
        //     cubeGeometry.computeFaceNormals();
        //     cubeGeometry.computeVertexNormals();
        //     return cube;
        // }


        // add the output of the renderer to the html element
        $('body').append(renderer.domElement);

        setTimeout(function(){
            console.log('Waited 2 secs to prevent lights bug.');
            render();
        },1200);

        function render() {
            stats.update();
            //trackballControls.update();
            //orbitControls.update();
            TWEEN.update();
            requestAnimationFrame(render);
            renderer.render(scene, camera);
            pointLight.position = camera.position;
        }

      });
    </script>  
 </body>
</html>

